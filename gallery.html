<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gallery — Your School</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="brand">
      <img src="assets/logo.png" alt="School Logo" class="logo" />
      <span class="brand-name" data-en="Your School" data-ar="مدرستكم">Your School</span>
    </div>
    <nav class="nav" id="nav">
      <ul class="nav-list">
        <li><a class="nav-link" href="index.html" data-en="Home" data-ar="الرئيسية">Home</a></li>
        <li><a class="nav-link" href="about.html" data-en="About" data-ar="عن المدرسة">About</a></li>
        <li><a class="nav-link" href="achievements.html" data-en="Achievements" data-ar="الإنجازات">Achievements</a></li>
        <li><a class="nav-link" href="ambassadors.html" data-en="Ambassadors" data-ar="السفراء">Ambassadors</a></li>
        <li><a class="nav-link" href="events.html" data-en="Events" data-ar="الفعاليات">Events</a></li>
        <li><a class="nav-link active" href="gallery.html" data-en="Gallery" data-ar="المعرض">Gallery</a></li>
        <li><a class="nav-link" href="contact.html" data-en="Contact" data-ar="اتصل بنا">Contact</a></li>
      </ul>
    </nav>
    <div class="header-actions">
      <button id="langToggle" class="btn small">AR</button>
      <button id="menuToggle" class="hamburger" aria-label="Menu"><span></span><span></span><span></span></button>
    </div>
  </header>

  <!-- MOBILE MENU -->
  <div id="mobileMenu" class="mobile-menu">
    <div class="mobile-inner">
      <ul>
        <li><a href="index.html" data-en="Home" data-ar="الرئيسية">Home</a></li>
        <li><a href="about.html" data-en="About" data-ar="عن المدرسة">About</a></li>
        <li><a href="achievements.html" data-en="Achievements" data-ar="الإنجازات">Achievements</a></li>
        <li><a href="ambassadors.html" data-en="Ambassadors" data-ar="السفراء">Ambassadors</a></li>
        <li><a href="events.html" data-en="Events" data-ar="الفعاليات">Events</a></li>
        <li><a class="active" href="gallery.html" data-en="Gallery" data-ar="المعرض">Gallery</a></li>
        <li><a href="contact.html" data-en="Contact" data-ar="اتصل بنا">Contact</a></li>
      </ul>
    </div>
  </div>

  <!-- SUB HERO -->
  <section class="sub-hero" style="--bg:url('assets/gallery-hero.jpg')">
    <div class="sub-hero-shade">
      <h1 class="sub-hero-title" data-en="School Gallery" data-ar="معرض المدرسة">School Gallery</h1>
    </div>
  </section>

  <!-- CONTROLS -->
  <section class="card-glass page gallery-controls">
    <div class="chips" role="tablist" aria-label="Albums">
      <button class="chip active" data-filter="all" data-en="All" data-ar="الكل">All</button>
      <button class="chip" data-filter="events" data-en="Events" data-ar="فعاليات">Events</button>
      <button class="chip" data-filter="sports" data-en="Sports" data-ar="رياضة">Sports</button>
      <button class="chip" data-filter="academic" data-en="Academic" data-ar="أكاديمي">Academic</button>
      <button class="chip" data-filter="community" data-en="Community" data-ar="مجتمع">Community</button>
    </div>
    <div class="filters-row">
      <select id="galYear" class="select">
        <option value="all" data-en="All Years" data-ar="كل السنوات">All Years</option>
        <option>2026</option>
        <option>2025</option>
        <option>2024</option>
      </select>
      <input id="galSearch" class="input" type="search"
             placeholder="Search…"
             data-en-placeholder="Search…"
             data-ar-placeholder="ابحث…">
    </div>
  </section>

  <!-- GRID -->
  <main class="page">
    <section id="galleryGrid" class="gallery-grid">

      <!-- ✨ COPY THIS TILE to add more photos -->
      <figure class="gal-tile" data-album="events" data-year="2025" data-title="International Women’s Day 2025">
        <img src="assets/gallery-iwd-1.jpg" alt="International Women’s Day Celebration 2025">
        <figcaption data-en="International Women’s Day 2025"
                    data-ar="يوم المرأة العالمي ٢٠٢٥">International Women’s Day 2025</figcaption>
      </figure>

      <figure class="gal-tile" data-album="sports" data-year="2025" data-title="BJJ Champions">
        <img src="assets/gallery-bjj-1.jpg" alt="BJJ Champions">
        <figcaption data-en="BJJ Champions" data-ar="أبطال الجوجيتسو">BJJ Champions</figcaption>
      </figure>

      <figure class="gal-tile" data-album="academic" data-year="2025" data-title="Hackathon Winners">
        <img src="assets/gallery-hackathon-1.jpg" alt="Hackathon Winners">
        <figcaption data-en="Hackathon Winners" data-ar="الفائزون في الهاكاثون">Hackathon Winners</figcaption>
      </figure>

      <figure class="gal-tile" data-album="community" data-year="2024" data-title="Community Service Day">
        <img src="assets/gallery-community-1.jpg" alt="Community Service Day">
        <figcaption data-en="Community Service Day" data-ar="يوم خدمة المجتمع">Community Service Day</figcaption>
      </figure>

      <!-- more examples -->
      <figure class="gal-tile" data-album="events" data-year="2026" data-title="Ambassadors Induction">
        <img src="assets/gallery-amb-1.jpg" alt="Ambassadors Induction">
        <figcaption data-en="Ambassadors Induction" data-ar="حفل تنصيب السفراء">Ambassadors Induction</figcaption>
      </figure>

    </section>
  </main>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lightbox" aria-modal="true" role="dialog" hidden>
    <button class="lb-close" id="lbClose" aria-label="Close">×</button>
    <button class="lb-arrow lb-prev" id="lbPrev" aria-label="Previous">‹</button>
    <img id="lbImg" alt="">
    <div id="lbCap" class="lb-cap"></div>
    <button class="lb-arrow lb-next" id="lbNext" aria-label="Next">›</button>
  </div>

  <footer class="footer-min">
    <p data-en="© 2025 Your School. All rights reserved."
       data-ar="© ٢٠٢٥ مدرستكم. جميع الحقوق محفوظة.">© 2025 Your School. All rights reserved.</p>
  </footer>

  <script src="script.js"></script>
  <script>
    (function(){
      const grid = document.getElementById('galleryGrid');
      const tiles = Array.from(grid.querySelectorAll('.gal-tile'));
      const chips = document.querySelectorAll('.gallery-controls .chip');
      const yearSel = document.getElementById('galYear');
      const search  = document.getElementById('galSearch');

      let current = 'all';

      function apply(){
        const y = yearSel.value || 'all';
        const q = (search.value || '').trim().toLowerCase();
        tiles.forEach(t=>{
          const okAlbum = (current==='all' || t.dataset.album===current);
          const okYear  = (y==='all' || t.dataset.year===y);
          const okText  = (q==='' || (t.dataset.title||'').toLowerCase().includes(q));
          t.style.display = (okAlbum && okYear && okText) ? '' : 'none';
        });
      }
      chips.forEach(c=>{
        c.addEventListener('click', ()=>{
          chips.forEach(x=>x.classList.remove('active'));
          c.classList.add('active');
          current = c.dataset.filter || 'all';
          apply();
        });
      });
      yearSel.addEventListener('change', apply);
      search.addEventListener('input', apply);

      // localization for placeholders and chip labels
      function localize(){
        const lang = document.documentElement.lang || 'en';
        search.placeholder = lang==='ar'
          ? (search.getAttribute('data-ar-placeholder') || 'ابحث…')
          : (search.getAttribute('data-en-placeholder') || 'Search…');
        const firstOpt = yearSel.querySelector('option[value="all"]');
        if(firstOpt){
          firstOpt.textContent = lang==='ar' ? firstOpt.getAttribute('data-ar') : firstOpt.getAttribute('data-en');
        }
        chips.forEach(ch=>{
          ch.textContent = (lang==='ar') ? ch.getAttribute('data-ar') : ch.getAttribute('data-en');
        });
        // captions
        grid.querySelectorAll('figcaption').forEach(c=>{
          c.textContent = (lang==='ar') ? c.getAttribute('data-ar') : c.getAttribute('data-en');
        });
      }
      const mo = new MutationObserver(localize);
      mo.observe(document.documentElement, {attributes:true, attributeFilter:['lang']});
      localize(); apply();

      // Lightbox
      const lb = document.getElementById('lightbox');
      const lbImg = document.getElementById('lbImg');
      const lbCap = document.getElementById('lbCap');
      const lbPrev = document.getElementById('lbPrev');
      const lbNext = document.getElementById('lbNext');
      const lbClose= document.getElementById('lbClose');
      let idx = 0;

      function openAt(i){
        idx = i;
        const tile = tiles.filter(t=>t.style.display!=='none')[idx];
        if(!tile) return;
        lbImg.src = tile.querySelector('img').src;
        const cap = tile.querySelector('figcaption');
        lbCap.textContent = (document.documentElement.lang==='ar')
          ? cap.getAttribute('data-ar') : cap.getAttribute('data-en');
        lb.hidden = false; document.body.style.overflow='hidden';
      }
      function visibleTiles(){ return tiles.filter(t=>t.style.display!=='none'); }
      function nav(step){
        const vis = visibleTiles();
        if(!vis.length) return;
        idx = (idx + step + vis.length) % vis.length;
        const tile = vis[idx];
        lbImg.src = tile.querySelector('img').src;
        const cap = tile.querySelector('figcaption');
        lbCap.textContent = (document.documentElement.lang==='ar')
          ? cap.getAttribute('data-ar') : cap.getAttribute('data-en');
      }

      tiles.forEach((t,i)=> t.addEventListener('click', ()=> openAt(visibleTiles().indexOf(t)) ));
      lbPrev.addEventListener('click', ()=> nav(-1));
      lbNext.addEventListener('click', ()=> nav(+1));
      lbClose.addEventListener('click', ()=>{
        lb.hidden = true; document.body.style.overflow='';
      });
      lb.addEventListener('click', (e)=>{ if(e.target===lb) lbClose.click(); });
      document.addEventListener('keydown', (e)=>{
        if(lb.hidden) return;
        if(e.key==='Escape') lbClose.click();
        if(e.key==='ArrowRight') lbNext.click();
        if(e.key==='ArrowLeft') lbPrev.click();
      });
    })();
  </script>
</body>
</html>
